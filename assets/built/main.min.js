function video(){"use strict";$(".post-content").fitVids()}function gallery(){"use strict";pswp(".kg-gallery-container",".kg-gallery-image",".kg-gallery-image",!1,!0)}function mobileMenu(){"use strict";$(".burger").on("click",function(){$("body").toggleClass("menu-opened")})}function feed(){"use strict";var e=$(".post-feed").masonry({columnWidth:".grid-sizer",itemSelector:"none",hiddenStyle:{transform:"translateY(50px)",opacity:0},visibleStyle:{transform:"translateY(0)",opacity:1}}),t=e.data("masonry");e.imagesLoaded(function(){e.addClass("initialized"),e.masonry("option",{itemSelector:".grid-item"});var t=e.find(".grid-item");e.masonry("appended",t)}),$(".pagination .older-posts").length&&e.infiniteScroll({append:".grid-item",history:!1,outlayer:t,path:".pagination .older-posts",prefill:!0,status:".infinite-scroll-status"}),pswp(".post-feed",".grid-item:not(.grid-sizer)",".post-lightbox",".post-caption",!1)}function pswp(o,r,s,a,l){function e(t){t.preventDefault();var e,n,i=$(t.target).closest(o).find(r).index($(t.target).closest(r)),t=$(t.target).closest(o);i=i,t=t[0],e=document.querySelectorAll(".pswp")[0],t=u(t),(n=new PhotoSwipe(e,PhotoSwipeUI_Default,t,{closeOnScroll:!1,history:!1,index:i,shareEl:!1,showAnimationDuration:0,showHideOpacity:!0})).listen("gettingData",function(t,e){var i;(e.w<1||e.h<1)&&((i=new Image).onload=function(){e.w=this.width,e.h=this.height,n.updateSize(!0)},i.src=e.src)}),n.init()}var u=function(t){var i,n,o=[];return $(t).find(r).each(function(t,e){i=$(e),n=i.find(s),n={src:l?i.find("img").attr("src"):n.attr("href"),w:0,h:0},a&&i.find(a).length&&(n.title=i.find(a).html()),o.push(n)}),o};$(o).on("click",s,function(t){e(t)})}!function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(l,u,c){(c=c||e||t.jQuery)&&(u.prototype.option||(u.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){var e,n,o,r,s,a;return"string"==typeof t?(e=d.call(arguments,1),o=e,s="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=c.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,o),r=void 0===r?i:r):h(s+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:e):(a=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(a),i._init()):(i=new u(e,a),c.data(e,l,i))}),this)},n(c))}function n(t){t&&!t.bridget&&(t.bridget=i)}var d=Array.prototype.slice,o=t.console,h=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,r){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice,u=(l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r],e=(clearTimeout(t),arguments),i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()},i.console);return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(u&&u.error("Error parsing "+n+" on "+e.className+": "+t))}i=new s(e,t);r&&r.data(e,a,i)})})},l}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/core",["ev-emitter/ev-emitter","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("ev-emitter"),require("fizzy-ui-utils")):i.InfiniteScroll=n(i,i.EvEmitter,i.fizzyUIUtils)}(window,function(e,t,o){function r(t,e){var i,n=o.getQueryElement(t);{if(n)return(t=n).infiniteScrollGUID?((i=a[t.infiniteScrollGUID]).option(e),i):(this.element=t,this.options=o.extend({},r.defaults),this.option(e),s&&(this.$element=s(this.element)),void this.create());console.error("Bad element for InfiniteScroll: "+(n||t))}}var s=e.jQuery,a={},i=(r.defaults={},r.create={},r.destroy={},r.prototype),n=(o.extend(i,t.prototype),0),l=(i.create=function(){var t=this.guid=++n;if(this.element.infiniteScrollGUID=t,(a[t]=this).pageIndex=1,this.loadCount=0,this.updateGetPath(),this.getPath&&this.getPath())for(var e in this.updateGetAbsolutePath(),this.log("initialized",[this.element.className]),this.callOnInit(),r.create)r.create[e].call(this);else console.error("Disabling InfiniteScroll")},i.option=function(t){o.extend(this.options,t)},i.callOnInit=function(){var t=this.options.onInit;t&&t.call(this,this)},i.dispatchEvent=function(t,e,i){this.log(t,i);var n=e?[e].concat(i):i;this.emitEvent(t,n),s&&this.$element&&(n=t+=".infiniteScroll",e&&((e=s.Event(e)).type=t,n=e),this.$element.trigger(n,i))},{initialized:function(t){return"on "+t},request:function(t){return"URL: "+t},load:function(t,e){return(t.title||"")+". URL: "+e},error:function(t,e){return t+". URL: "+e},append:function(t,e,i){return i.length+" items. URL: "+e},last:function(t,e){return"URL: "+e},history:function(t,e){return"URL: "+e},pageIndex:function(t,e){return"current page determined to be: "+t+" from "+e}}),u=(i.log=function(t,e){var i;this.options.debug&&(i="[InfiniteScroll] "+t,(t=l[t])&&(i+=". "+t.apply(this,e)),console.log(i))},i.updateMeasurements=function(){this.windowHeight=e.innerHeight;var t=this.element.getBoundingClientRect();this.top=t.top+e.pageYOffset},i.updateScroller=function(){var t=this.options.elementScroll;if(t){if(this.scroller=!0===t?this.element:o.getQueryElement(t),!this.scroller)throw"Unable to find elementScroll: "+t}else this.scroller=e},i.updateGetPath=function(){var t=this.options.path;if(t){var e=typeof t;if("function"!=e)return"string"==e&&t.match("{{#}}")?void this.updateGetPathTemplate(t):void this.updateGetPathSelector(t);this.getPath=t}else console.error("InfiniteScroll path option required. Set as: "+t)},i.updateGetPathTemplate=function(e){this.getPath=function(){var t=this.pageIndex+1;return e.replace("{{#}}",t)}.bind(this);var t=e.replace(/(\\\?|\?)/,"\\?").replace("{{#}}","(\\d\\d?\\d?)"),t=new RegExp(t),t=location.href.match(t);t&&(this.pageIndex=parseInt(t[1],10),this.log("pageIndex",[this.pageIndex,"template string"]))},[/^(.*?\/?page\/?)(\d\d?\d?)(.*?$)/,/^(.*?\/?\?page=)(\d\d?\d?)(.*?$)/,/(.*?)(\d\d?\d?)(?!.*\d)(.*?$)/]);return i.updateGetPathSelector=function(t){var e=document.querySelector(t);if(e){for(var i,n=e.getAttribute("href"),o=0;n&&o<u.length;o++){var r=n.match(u[o]);if(r){i=r.slice(1);break}}return i?(this.isPathSelector=!0,this.getPath=function(){var t=this.pageIndex+1;return i[0]+t+i[2]}.bind(this),this.pageIndex=parseInt(i[1],10)-1,void this.log("pageIndex",[this.pageIndex,"next link"])):void console.error("InfiniteScroll unable to parse next link href: "+n)}console.error("Bad InfiniteScroll path option. Next link not found: "+t)},i.updateGetAbsolutePath=function(){var t,e,i=this.getPath();i.match(/^http/)||i.match(/^\//)?this.getAbsolutePath=this.getPath:(t=location.pathname,i.match(/^\?/)?this.getAbsolutePath=function(){return t+this.getPath()}:(e=t.substring(0,t.lastIndexOf("/")),this.getAbsolutePath=function(){return e+"/"+this.getPath()}))},r.create.hideNav=function(){var t=o.getQueryElement(this.options.hideNav);t&&(t.style.display="none",this.nav=t)},r.destroy.hideNav=function(){this.nav&&(this.nav.style.display="")},i.destroy=function(){for(var t in this.allOff(),r.destroy)r.destroy[t].call(this);delete this.element.infiniteScrollGUID,delete a[this.guid],s&&this.$element&&s.removeData(this.element,"infiniteScroll")},r.throttle=function(n,o){var r,s;return o=o||200,function(){var t=+new Date,e=arguments,i=function(){r=t,n.apply(this,e)}.bind(this);r&&t<r+o?(clearTimeout(s),s=setTimeout(i,o)):i()}},r.data=function(t){t=(t=o.getQueryElement(t))&&t.infiniteScrollGUID;return t&&a[t]},r.setJQuery=function(t){s=t},o.htmlInit(r,"infinite-scroll"),i._init=function(){},s&&s.bridget&&s.bridget("infiniteScroll",r),r}),function(e,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/page-load",["./core"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("./core")):i(e,e.InfiniteScroll)}(window,function(n,o){function d(t){for(var e=document.createDocumentFragment(),i=0;t&&i<t.length;i++)e.appendChild(t[i]);return e}var t=o.prototype;return o.defaults.loadOnScroll=!0,o.defaults.checkLastPage=!0,o.defaults.responseType="document",o.create.pageLoad=function(){this.canLoad=!0,this.on("scrollThreshold",this.onScrollThresholdLoad),this.on("load",this.checkLastPage),this.options.outlayer&&this.on("append",this.onAppendOutlayer)},t.onScrollThresholdLoad=function(){this.options.loadOnScroll&&this.loadNextPage()},t.loadNextPage=function(){var e,t,i,n,o,r,s,a,l,u;!this.isLoading&&this.canLoad&&(e=this.getAbsolutePath(),this.isLoading=!0,t=function(t){this.onPageLoad(t,e)}.bind(this),i=function(t){this.onPageError(t,e)}.bind(this),n=function(t){this.lastPageReached(t,e)}.bind(this),o=e,r=this.options.responseType,s=t,a=i,l=n,(u=new XMLHttpRequest).open("GET",o,!0),u.responseType=r||"",u.setRequestHeader("X-Requested-With","XMLHttpRequest"),u.onload=function(){var t;200==u.status?s(u.response):204==u.status?l(u.response):(t=new Error(u.statusText),a(t))},u.onerror=function(){var t=new Error("Network error requesting "+o);a(t)},u.send(),this.dispatchEvent("request",null,[e]))},t.onPageLoad=function(t,e){return this.options.append||(this.isLoading=!1),this.pageIndex++,this.loadCount++,this.dispatchEvent("load",null,[t,e]),this.appendNextPage(t,e),t},t.appendNextPage=function(t,e){var i,n,o=this.options.append;"document"==this.options.responseType&&o&&(i=t.querySelectorAll(o),n=d(i),o=function(){this.appendItems(i,n),this.isLoading=!1,this.dispatchEvent("append",null,[t,e,i])}.bind(this),this.options.outlayer?this.appendOutlayerItems(n,o):o())},t.appendItems=function(t,e){if(t&&t.length){for(var i=(e=e||d(t)).querySelectorAll("script"),n=0;n<i.length;n++){for(var o=i[n],r=document.createElement("script"),s=(c=u=l=a=s=void 0,o),a=r,l=s.attributes,u=0;u<l.length;u++){var c=l[u];a.setAttribute(c.name,c.value)}r.innerHTML=o.innerHTML,o.parentNode.replaceChild(r,o)}this.element.appendChild(e)}},t.appendOutlayerItems=function(t,e){var i=o.imagesLoaded||n.imagesLoaded;return i?void i(t,e):(console.error("[InfiniteScroll] imagesLoaded required for outlayer option"),void(this.isLoading=!1))},t.onAppendOutlayer=function(t,e,i){this.options.outlayer.appended(i)},t.checkLastPage=function(t,e){var i=this.options.checkLastPage;if(i){var n,o=this.options.path;if("function"==typeof o)if(!this.getPath())return void this.lastPageReached(t,e);"string"==typeof i?n=i:this.isPathSelector&&(n=o),n&&t.querySelector&&(t.querySelector(n)||this.lastPageReached(t,e))}},t.lastPageReached=function(t,e){this.canLoad=!1,this.dispatchEvent("last",null,[t,e])},t.onPageError=function(t,e){return this.isLoading=!1,this.canLoad=!1,this.dispatchEvent("error",null,[t,e]),t},o.create.prefill=function(){var t;this.options.prefill&&((t=this.options.append)?(this.updateMeasurements(),this.updateScroller(),this.isPrefilling=!0,this.on("append",this.prefill),this.once("error",this.stopPrefill),this.once("last",this.stopPrefill),this.prefill()):console.error("append option required for prefill. Set as :"+t))},t.prefill=function(){var t=this.getPrefillDistance();this.isPrefilling=0<=t,this.isPrefilling?(this.log("prefill"),this.loadNextPage()):this.stopPrefill()},t.getPrefillDistance=function(){return this.options.elementScroll?this.scroller.clientHeight-this.scroller.scrollHeight:this.windowHeight-this.element.clientHeight},t.stopPrefill=function(){this.log("stopPrefill"),this.off("append",this.prefill)},o}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/scroll-watch",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype;return t.defaults.scrollThreshold=400,t.create.scrollWatch=function(){this.pageScrollHandler=this.onPageScroll.bind(this),this.resizeHandler=this.onResize.bind(this);var t=this.options.scrollThreshold;!t&&0!==t||this.enableScrollWatch()},t.destroy.scrollWatch=function(){this.disableScrollWatch()},n.enableScrollWatch=function(){this.isScrollWatching||(this.isScrollWatching=!0,this.updateMeasurements(),this.updateScroller(),this.on("last",this.disableScrollWatch),this.bindScrollWatchEvents(!0))},n.disableScrollWatch=function(){this.isScrollWatching&&(this.bindScrollWatchEvents(!1),delete this.isScrollWatching)},n.bindScrollWatchEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.pageScrollHandler),e[t]("resize",this.resizeHandler)},n.onPageScroll=t.throttle(function(){this.getBottomDistance()<=this.options.scrollThreshold&&this.dispatchEvent("scrollThreshold")}),n.getBottomDistance=function(){return this.options.elementScroll?this.getElementBottomDistance():this.getWindowBottomDistance()},n.getWindowBottomDistance=function(){return this.top+this.element.clientHeight-(e.pageYOffset+this.windowHeight)},n.getElementBottomDistance=function(){return this.scroller.scrollHeight-(this.scroller.scrollTop+this.scroller.clientHeight)},n.onResize=function(){this.updateMeasurements()},i.debounceMethod(t,"onResize",150),t}),function(i,n){"function"==typeof define&&define.amd?define("infinite-scroll/js/history",["./core","fizzy-ui-utils/utils"],function(t,e){return n(i,t,e)}):"object"==typeof module&&module.exports?module.exports=n(i,require("./core"),require("fizzy-ui-utils")):n(i,i.InfiniteScroll,i.fizzyUIUtils)}(window,function(e,t,i){var n=t.prototype,o=(t.defaults.history="replace",document.createElement("a"));return t.create.history=function(){if(this.options.history)return o.href=this.getAbsolutePath(),(o.origin||o.protocol+"//"+o.host)==location.origin?void(this.options.append?this.createHistoryAppend():this.createHistoryPageLoad()):void console.error("[InfiniteScroll] cannot set history with different origin: "+o.origin+" on "+location.origin+" . History behavior disabled.")},n.createHistoryAppend=function(){this.updateMeasurements(),this.updateScroller(),this.scrollPages=[{top:0,path:location.href,title:document.title}],this.scrollPageIndex=0,this.scrollHistoryHandler=this.onScrollHistory.bind(this),this.unloadHandler=this.onUnload.bind(this),this.scroller.addEventListener("scroll",this.scrollHistoryHandler),this.on("append",this.onAppendHistory),this.bindHistoryAppendEvents(!0)},n.bindHistoryAppendEvents=function(t){t=t?"addEventListener":"removeEventListener";this.scroller[t]("scroll",this.scrollHistoryHandler),e[t]("unload",this.unloadHandler)},n.createHistoryPageLoad=function(){this.on("load",this.onPageLoadHistory)},t.destroy.history=n.destroyHistory=function(){this.options.history&&this.options.append&&this.bindHistoryAppendEvents(!1)},n.onAppendHistory=function(t,e,i){i&&i.length&&(i=i[0],i=this.getElementScrollY(i),o.href=e,this.scrollPages.push({top:i,path:o.href,title:t.title}))},n.getElementScrollY=function(t){return this.options.elementScroll?this.getElementElementScrollY(t):this.getElementWindowScrollY(t)},n.getElementWindowScrollY=function(t){return t.getBoundingClientRect().top+e.pageYOffset},n.getElementElementScrollY=function(t){return t.offsetTop-this.top},n.onScrollHistory=function(){for(var t,e,i=this.getScrollViewY(),n=0;n<this.scrollPages.length;n++){var o=this.scrollPages[n];if(o.top>=i)break;t=n,e=o}t!=this.scrollPageIndex&&(this.scrollPageIndex=t,this.setHistory(e.title,e.path))},i.debounceMethod(t,"onScrollHistory",150),n.getScrollViewY=function(){return this.options.elementScroll?this.scroller.scrollTop+this.scroller.clientHeight/2:e.pageYOffset+this.windowHeight/2},n.setHistory=function(t,e){var i=this.options.history;i&&history[i+"State"]&&(history[i+"State"](null,t,e),this.options.historyTitle&&(document.title=t),this.dispatchEvent("history",null,[t,e]))},n.onUnload=function(){var t=this.scrollPageIndex;0!==t&&(t=this.scrollPages[t],t=e.pageYOffset-t.top+this.top,this.destroyHistory(),scrollTo(0,t))},n.onPageLoadHistory=function(t,e){this.setHistory(t.title,e)},t}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/button",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t,e){this.element=t,this.infScroll=e,this.clickHandler=this.onClick.bind(this),this.element.addEventListener("click",this.clickHandler),e.on("request",this.disable.bind(this)),e.on("load",this.enable.bind(this)),e.on("error",this.hide.bind(this)),e.on("last",this.hide.bind(this))}return e.create.button=function(){var t=i.getQueryElement(this.options.button);t&&(this.button=new n(t,this))},e.destroy.button=function(){this.button&&this.button.destroy()},n.prototype.onClick=function(t){t.preventDefault(),this.infScroll.loadNextPage()},n.prototype.enable=function(){this.element.removeAttribute("disabled")},n.prototype.disable=function(){this.element.disabled="disabled"},n.prototype.hide=function(){this.element.style.display="none"},n.prototype.destroy=function(){this.element.removeEventListener("click",this.clickHandler)},e.Button=n,e}),function(t,i){"function"==typeof define&&define.amd?define("infinite-scroll/js/status",["./core","fizzy-ui-utils/utils"],function(t,e){return i(0,t,e)}):"object"==typeof module&&module.exports?module.exports=i(0,require("./core"),require("fizzy-ui-utils")):i(0,t.InfiniteScroll,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){r(t,"none")}function o(t){r(t,"block")}function r(t,e){t&&(t.style.display=e)}var s=e.prototype;return e.create.status=function(){var t=i.getQueryElement(this.options.status);t&&(this.statusElement=t,this.statusEventElements={request:t.querySelector(".infinite-scroll-request"),error:t.querySelector(".infinite-scroll-error"),last:t.querySelector(".infinite-scroll-last")},this.on("request",this.showRequestStatus),this.on("error",this.showErrorStatus),this.on("last",this.showLastStatus),this.bindHideStatus("on"))},s.bindHideStatus=function(t){var e=this.options.append?"append":"load";this[t](e,this.hideAllStatus)},s.showRequestStatus=function(){this.showStatus("request")},s.showErrorStatus=function(){this.showStatus("error")},s.showLastStatus=function(){this.showStatus("last"),this.bindHideStatus("off")},s.showStatus=function(t){o(this.statusElement),this.hideStatusEventElements(),o(this.statusEventElements[t])},s.hideAllStatus=function(){n(this.statusElement),this.hideStatusEventElements()},s.hideStatusEventElements=function(){for(var t in this.statusEventElements)n(this.statusEventElements[t])},e}),function(t){"function"==typeof define&&define.amd?define(["infinite-scroll/js/core","infinite-scroll/js/page-load","infinite-scroll/js/scroll-watch","infinite-scroll/js/history","infinite-scroll/js/button","infinite-scroll/js/status"],t):"object"==typeof module&&module.exports&&(module.exports=t(require("./core"),require("./page-load"),require("./scroll-watch"),require("./history"),require("./button"),require("./status")))}((window,function(t){return t})),function(e,i){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter")):e.imagesLoaded=i(e,e.EvEmitter)}("undefined"!=typeof window?window:this,function(e,t){function r(t,e){for(var i in e)t[i]=e[i];return t}function s(t,e,i){if(!(this instanceof s))return new s(t,e,i);var n,o=t;return(o="string"==typeof t?document.querySelectorAll(t):o)?(this.elements=(n=o,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?u.call(n):[n]),this.options=r({},this.options),"function"==typeof e?i=e:r(this.options,e),i&&this.on("always",i),this.getImages(),a&&(this.jqDeferred=new a.Deferred),void setTimeout(this.check.bind(this))):void l.error("Bad element for imagesLoaded "+(o||t))}function i(t){this.img=t}function n(t,e){this.url=t,this.element=e,this.img=new Image}var a=e.jQuery,l=e.console,u=Array.prototype.slice,c=((s.prototype=Object.create(t.prototype)).options={},s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},s.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),!0===this.options.background&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&c[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background)for(var r=t.querySelectorAll(this.options.background),n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}},{1:!0,9:!0,11:!0});return s.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},s.prototype.addImage=function(t){t=new i(t);this.images.push(t)},s.prototype.addBackground=function(t,e){t=new n(t,e);this.images.push(t)},s.prototype.check=function(){function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}var n=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},s.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,t,e)},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(t=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[t](this))},(i.prototype=Object.create(t.prototype)).check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},(s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((a=t).fn.imagesLoaded=function(t,e){return new s(this,t,e).jqDeferred.promise(a(this))})})(),s}),function(r){"use strict";r.fn.fitVids=function(t){var e,i,o={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(e=document.head||document.getElementsByTagName("head")[0],(i=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',e.appendChild(i.childNodes[1])),t&&r.extend(o,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"],n=(o.customSelector&&t.push(o.customSelector),".fitvidsignore"),t=(o.ignore&&(n=n+", "+o.ignore),r(this).find(t.join(",")));(t=(t=t.not("object object")).not(n)).each(function(){var t,e,i=r(this);0<i.parents(n).length||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length||(i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16)),t=("object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height())/(isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10)),i.attr("name")||(e="fitvid"+r.fn.fitVids._count,i.attr("name",e),r.fn.fitVids._count++),i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*t+"%"),i.removeAttr("height").removeAttr("width"))})})},r.fn.fitVids._count=0}(window.jQuery||window.Zepto),function(t){var e=function(u,R,c){"use strict";var F,W,t,e={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(t in W=u.lazySizesConfig||u.lazysizesConfig||{},e)t in W||(W[t]=e[t]);if(!R||!R.getElementsByClassName)return{init:function(){},cfg:W,noSupport:!0};var H=R.documentElement,n=u.HTMLPictureElement,N="addEventListener",q="getAttribute",j=u[N].bind(u),B=u.setTimeout,U=u.requestAnimationFrame||B,a=u.requestIdleCallback,Z=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],i={},Y=Array.prototype.forEach,G=function(t,e){return i[e]||(i[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),i[e].test(t[q]("class")||"")&&i[e]},$=function(t,e){G(t,e)||t.setAttribute("class",(t[q]("class")||"").trim()+" "+e)},K=function(t,e){var i;(i=G(t,e))&&t.setAttribute("class",(t[q]("class")||"").replace(i," "))},Q=function(e,i,t){var n=t?N:"removeEventListener";t&&Q(e,i),o.forEach(function(t){e[n](t,i)})},V=function(t,e,i,n,o){var r=R.createEvent("Event");return i||(i={}),i.instance=F,r.initEvent(e,!n,!o),r.detail=i,t.dispatchEvent(r),r},X=function(t,e){var i;!n&&(i=u.picturefill||W.pf)?(e&&e.src&&!t[q]("srcset")&&t.setAttribute("srcset",e.src),i({reevaluate:!0,elements:[t]})):e&&e.src&&(t.src=e.src)},J=function(t,e){return(getComputedStyle(t,null)||{})[e]},s=function(t,e,i){for(i=i||t.offsetWidth;i<W.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},tt=function(){var i,n,e=[],o=[],r=e,s=function(){var t=r;for(r=e.length?o:e,i=!0,n=!1;t.length;)t.shift()();i=!1},t=function(t,e){i&&!e?t.apply(this,arguments):(r.push(t),n||(n=!0,(R.hidden?B:U)(s)))};return t._lsFlush=s,t}(),et=function(i,t){return t?function(){tt(i)}:function(){var t=this,e=arguments;tt(function(){i.apply(t,e)})}},it=function(t){var i,n=0,o=W.throttleDelay,r=W.ricTimeout,e=function(){i=!1,n=c.now(),t()},s=a&&r>49?function(){a(e,{timeout:r}),r!==W.ricTimeout&&(r=W.ricTimeout)}:et(function(){B(e)},!0);return function(t){var e;(t=!0===t)&&(r=33),i||(i=!0,e=o-(c.now()-n),e<0&&(e=0),t||e<9?s():B(s,e))}},nt=function(t){var e,i,n=99,o=function(){e=null,t()},r=function(){var t=c.now()-i;t<n?B(r,n-t):(a||o)(o)};return function(){i=c.now(),e||(e=B(r,n))}},r=function(){var p,f,d,m,t,g,y,v,w,b,x,E,r=/^img$/i,h=/^iframe$/i,I="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent),S=0,C=0,T=0,z=-1,_=function(t){T--,(!t||T<0||!t.target)&&(T=0)},L=function(t){return null==E&&(E="hidden"==J(R.body,"visibility")),E||!("hidden"==J(t.parentNode,"visibility")&&"hidden"==J(t,"visibility"))},A=function(t,e){var i,n=t,o=L(t);for(v-=e,x+=e,w-=e,b+=e;o&&(n=n.offsetParent)&&n!=R.body&&n!=H;)(o=(J(n,"opacity")||1)>0)&&"visible"!=J(n,"overflow")&&(i=n.getBoundingClientRect(),o=b>i.left&&w<i.right&&x>i.top-1&&v<i.bottom+1);return o},e=function(){var t,e,i,n,o,r,s,a,l,u,c,d,h=F.elements;if((m=W.loadMode)&&T<8&&(t=h.length)){for(e=0,z++;e<t;e++)if(h[e]&&!h[e]._lazyRace)if(!I||F.prematureUnveil&&F.prematureUnveil(h[e]))k(h[e]);else if((a=h[e][q]("data-expand"))&&(r=1*a)||(r=C),u||(u=!W.expand||W.expand<1?H.clientHeight>500&&H.clientWidth>500?500:370:W.expand,F._defEx=u,c=u*W.expFactor,d=W.hFac,E=null,C<c&&T<1&&z>2&&m>2&&!R.hidden?(C=c,z=0):C=m>1&&z>1&&T<6?u:S),l!==r&&(g=innerWidth+r*d,y=innerHeight+r,s=-1*r,l=r),i=h[e].getBoundingClientRect(),(x=i.bottom)>=s&&(v=i.top)<=y&&(b=i.right)>=s*d&&(w=i.left)<=g&&(x||b||w||v)&&(W.loadHidden||L(h[e]))&&(f&&T<3&&!a&&(m<3||z<4)||A(h[e],r))){if(k(h[e]),o=!0,T>9)break}else!o&&f&&!n&&T<4&&z<4&&m>2&&(p[0]||W.preloadAfterLoad)&&(p[0]||!a&&(x||b||w||v||"auto"!=h[e][q](W.sizesAttr)))&&(n=p[0]||h[e]);n&&!o&&k(n)}},i=it(e),P=function(t){var e=t.target;if(e._lazyCache)return void delete e._lazyCache;_(t),$(e,W.loadedClass),K(e,W.loadingClass),Q(e,O),V(e,"lazyloaded")},n=et(P),O=function(t){n({target:t.target})},D=function(e,i){try{e.contentWindow.location.replace(i)}catch(t){e.src=i}},M=function(t){var e,i=t[q](W.srcsetAttr);(e=W.customMedia[t[q]("data-media")||t[q]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},s=et(function(e,t,i,n,o){var r,s,a,l,u,c;(u=V(e,"lazybeforeunveil",t)).defaultPrevented||(n&&(i?$(e,W.autosizesClass):e.setAttribute("sizes",n)),s=e[q](W.srcsetAttr),r=e[q](W.srcAttr),o&&(a=e.parentNode,l=a&&Z.test(a.nodeName||"")),c=t.firesLoad||"src"in e&&(s||r||l),u={target:e},$(e,W.loadingClass),c&&(clearTimeout(d),d=B(_,2500),Q(e,O,!0)),l&&Y.call(a.getElementsByTagName("source"),M),s?e.setAttribute("srcset",s):r&&!l&&(h.test(e.nodeName)?D(e,r):e.src=r),o&&(s||l)&&X(e,{src:r})),e._lazyRace&&delete e._lazyRace,K(e,W.lazyClass),tt(function(){var t=e.complete&&e.naturalWidth>1;c&&!t||(t&&$(e,"ls-is-cached"),P(u),e._lazyCache=!0,B(function(){"_lazyCache"in e&&delete e._lazyCache},9)),"lazy"==e.loading&&T--},!0)}),k=function(t){if(!t._lazyRace){var e,i=r.test(t.nodeName),n=i&&(t[q](W.sizesAttr)||t[q]("sizes")),o="auto"==n;(!o&&f||!i||!t[q]("src")&&!t.srcset||t.complete||G(t,W.errorClass)||!G(t,W.lazyClass))&&(e=V(t,"lazyunveilread").detail,o&&ot.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,T++,s(t,e,o,n,i))}},o=nt(function(){W.loadMode=3,i()}),a=function(){3==W.loadMode&&(W.loadMode=2),o()},l=function(){if(!f){if(c.now()-t<999)return void B(l,999);f=!0,W.loadMode=3,i(),j("scroll",a,!0)}};return{_:function(){t=c.now(),F.elements=R.getElementsByClassName(W.lazyClass),p=R.getElementsByClassName(W.lazyClass+" "+W.preloadClass),j("scroll",i,!0),j("resize",i,!0),j("pageshow",function(t){if(t.persisted){var e=R.querySelectorAll("."+W.loadingClass);e.length&&e.forEach&&U(function(){e.forEach(function(t){t.complete&&k(t)})})}}),u.MutationObserver?new MutationObserver(i).observe(H,{childList:!0,subtree:!0,attributes:!0}):(H[N]("DOMNodeInserted",i,!0),H[N]("DOMAttrModified",i,!0),setInterval(i,999)),j("hashchange",i,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){R[N](t,i,!0)}),/d$|^c/.test(R.readyState)?l():(j("load",l),R[N]("DOMContentLoaded",i),B(l,2e4)),F.elements.length?(e(),tt._lsFlush()):i()},checkElems:i,unveil:k,_aLSL:a}}(),ot=function(){var i,r=et(function(t,e,i,n){var o,r,s;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),Z.test(e.nodeName||""))for(o=e.getElementsByTagName("source"),r=0,s=o.length;r<s;r++)o[r].setAttribute("sizes",n);i.detail.dataAttr||X(t,i.detail)}),n=function(t,e,i){var n,o=t.parentNode;o&&(i=s(t,o,i),n=V(t,"lazybeforesizes",{width:i,dataAttr:!!e}),n.defaultPrevented||(i=n.detail.width)&&i!==t._lazysizesWidth&&r(t,o,n,i))},t=function(){var t,e=i.length;if(e)for(t=0;t<e;t++)n(i[t])},e=nt(t);return{_:function(){i=R.getElementsByClassName(W.autosizesClass),j("resize",e)},checkElems:e,updateElem:n}}(),l=function(){!l.i&&R.getElementsByClassName&&(l.i=!0,ot._(),r._())};return B(function(){W.init&&l()}),F={cfg:W,autoSizer:ot,loader:r,init:l,uP:X,aC:$,rC:K,hC:G,fire:V,gW:s,rAF:tt}}(t,t.document,Date);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}("undefined"!=typeof window?window:{}),function(e,i){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("jquery")):e.jQueryBridget=i(e,e.jQuery)}(window,function(t,e){"use strict";function i(l,u,c){(c=c||e||t.jQuery)&&(u.prototype.option||(u.prototype.option=function(t){c.isPlainObject(t)&&(this.options=c.extend(!0,this.options,t))}),c.fn[l]=function(t){var e,n,o,r,s,a;return"string"==typeof t?(e=d.call(arguments,1),o=e,s="$()."+l+'("'+(n=t)+'")',(e=this).each(function(t,e){var i,e=c.data(e,l);e?(i=e[n])&&"_"!=n.charAt(0)?(i=i.apply(e,o),r=void 0===r?i:r):h(s+" is not a valid method"):h(l+" not initialized. Cannot call methods, i.e. "+s)}),void 0!==r?r:e):(a=t,this.each(function(t,e){var i=c.data(e,l);i?(i.option(a),i._init()):(i=new u(e,a),c.data(e,l,i))}),this)},n(c))}function n(t){t&&!t.bridget&&(t.bridget=i)}var d=Array.prototype.slice,o=t.console,h=void 0===o?function(){}:function(t){o.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){var i;if(t&&e)return-1==(i=(i=this._events=this._events||{})[t]=i[t]||[]).indexOf(e)&&i.push(e),this},e.once=function(t,e){var i;if(t&&e)return this.on(t,e),((i=this._onceEvents=this._onceEvents||{})[t]=i[t]||{})[e]=!0,this},e.off=function(t,e){t=this._events&&this._events[t];if(t&&t.length)return-1!=(e=t.indexOf(e))&&t.splice(e,1),this},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){i=i.slice(0),e=e||[];for(var n=this._onceEvents&&this._onceEvents[t],o=0;o<i.length;o++){var r=i[o];n&&n[r]&&(this.off(t,r),delete n[r]),r.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t}),function(t,e){"function"==typeof define&&define.amd?define("get-size/get-size",e):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function g(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function y(t){t=getComputedStyle(t);return t||e("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}function v(t){if(E||(E=!0,(c=document.createElement("div")).style.width="200px",c.style.padding="1px 2px 3px 4px",c.style.borderStyle="solid",c.style.borderWidth="1px 2px 3px 4px",c.style.boxSizing="border-box",(u=document.body||document.documentElement).appendChild(c),r=y(c),w=200==Math.round(g(r.width)),v.isBoxSizeOuter=w,u.removeChild(c)),(t="string"==typeof t?document.querySelector(t):t)&&"object"==typeof t&&t.nodeType){var e=y(t);if("none"==e.display){for(var i={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},n=0;n<x;n++)i[b[n]]=0;return i}var o={};o.width=t.offsetWidth,o.height=t.offsetHeight;for(var r=o.isBorderBox="border-box"==e.boxSizing,s=0;s<x;s++){var a=b[s],l=e[a],l=parseFloat(l);o[a]=isNaN(l)?0:l}var u=o.paddingLeft+o.paddingRight,c=o.paddingTop+o.paddingBottom,t=o.marginLeft+o.marginRight,d=o.marginTop+o.marginBottom,h=o.borderLeftWidth+o.borderRightWidth,p=o.borderTopWidth+o.borderBottomWidth,f=r&&w,m=g(e.width),m=(!1!==m&&(o.width=m+(f?0:u+h)),g(e.height));return!1!==m&&(o.height=m+(f?0:c+p)),o.innerWidth=o.width-(u+h),o.innerHeight=o.height-(c+p),o.outerWidth=o.width+t,o.outerHeight=o.height+d,o}var c,u,r}var w,e="undefined"==typeof console?function(){}:function(t){console.error(t)},b=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],x=b.length,E=!1;return v}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var i=function(){var t=window.Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i]+"MatchesSelector";if(t[n])return n}}();return function(t,e){return t[i](e)}}),function(e,i){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(t){return i(e,t)}):"object"==typeof module&&module.exports?module.exports=i(e,require("desandro-matches-selector")):e.fizzyUIUtils=i(e,e.matchesSelector)}(window,function(i,r){var l={extend:function(t,e){for(var i in e)t[i]=e[i];return t},modulo:function(t,e){return(t%e+e)%e}},e=Array.prototype.slice,u=(l.makeArray=function(t){return Array.isArray(t)?t:null==t?[]:"object"==typeof t&&"number"==typeof t.length?e.call(t):[t]},l.removeFrom=function(t,e){e=t.indexOf(e);-1!=e&&t.splice(e,1)},l.getParent=function(t,e){for(;t.parentNode&&t!=document.body;)if(t=t.parentNode,r(t,e))return t},l.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},l.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.filterFindElements=function(t,n){t=l.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement)if(n){r(t,n)&&o.push(t);for(var e=t.querySelectorAll(n),i=0;i<e.length;i++)o.push(e[i])}else o.push(t)}),o},l.debounceMethod=function(t,e,n){n=n||100;var o=t.prototype[e],r=e+"Timeout";t.prototype[e]=function(){var t=this[r],e=(clearTimeout(t),arguments),i=this;this[r]=setTimeout(function(){o.apply(i,e),delete i[r]},n)}},l.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?setTimeout(t):document.addEventListener("DOMContentLoaded",t)},l.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()},i.console);return l.htmlInit=function(s,a){l.docReady(function(){var t=l.toDashed(a),n="data-"+t,e=document.querySelectorAll("["+n+"]"),t=document.querySelectorAll(".js-"+t),e=l.makeArray(e).concat(l.makeArray(t)),o=n+"-options",r=i.jQuery;e.forEach(function(e){var t,i=e.getAttribute(n)||e.getAttribute(o);try{t=i&&JSON.parse(i)}catch(t){return void(u&&u.error("Error parsing "+n+" on "+e.className+": "+t))}i=new s(e,t);r&&r.data(e,a,i)})})},l}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",n="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],s={transform:n,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"},t=i.prototype=Object.create(t.prototype),a=(t.constructor=i,t._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},t.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},t.getSize=function(){this.size=e(this.element)},t.css=function(t){var e,i=this.element.style;for(e in t)i[s[e]||e]=t[e]},t.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],t=t[i?"top":"bottom"],o=parseFloat(n),r=parseFloat(t),s=this.layout.size;-1!=n.indexOf("%")&&(o=o/100*s.width),-1!=t.indexOf("%")&&(r=r/100*s.height),o=isNaN(o)?0:o,r=isNaN(r)?0:r,o-=e?s.paddingLeft:s.paddingRight,r-=i?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=r},t.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"right":"left",r=this.position.x+t[i?"paddingLeft":"paddingRight"],i=(e[i?"left":"right"]=this.getXValue(r),e[o]="",n?"paddingTop":"paddingBottom"),r=n?"bottom":"top",o=this.position.y+t[i];e[n?"top":"bottom"]=this.getYValue(o),e[r]="",this.css(e),this.emitEvent("layout",[this])},t.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},t.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},t._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=t==this.position.x&&e==this.position.y;this.setPosition(t,e),o&&!this.isTransitioning?this.layoutPosition():((o={}).transform=this.getTranslate(t-i,e-n),this.transition({to:o,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0}))},t.getTranslate=function(t,e){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(e=this.layout._getOption("originTop")?e:-e)+"px, 0)"},t.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},t.moveTo=t._transitionTo,t.setPosition=function(t,e){this.position.x=parseFloat(t),this.position.y=parseFloat(e)},t._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},t.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e,i=this._transn;for(e in t.onTransitionEnd)i.onEnd[e]=t.onTransitionEnd[e];for(e in t.to)i.ingProperties[e]=!0,t.isCleaning&&(i.clean[e]=!0);t.from&&(this.css(t.from),this.element.offsetHeight,0),this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)},"opacity,"+n.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})),l=(t.enableTransition=function(){var t;this.isTransitioning||(t="number"==typeof(t=this.layout.options.transitionDuration)?t+"ms":t,this.css({transitionProperty:a,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1))},t.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},t.onotransitionend=function(t){this.ontransitionend(t)},{"-webkit-transform":"transform"}),u=(t.ontransitionend=function(t){var e,i;t.target===this.element&&(e=this._transn,i=l[t.propertyName]||t.propertyName,delete e.ingProperties[i],function(t){for(var e in t)return;return 1}(e.ingProperties)&&this.disableTransition(),i in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[i]),i in e.onEnd&&(e.onEnd[i].call(this),delete e.onEnd[i]),this.emitEvent("transitionEnd",[this]))},t.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},t._removeStyles=function(t){var e,i={};for(e in t)i[e]="";this.css(i)},{transitionProperty:"",transitionDuration:"",transitionDelay:""});return t.removeTransitionStyles=function(){this.css(u)},t.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},t.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},t.remove=function(){return o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},t.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},t.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},t.getHideRevealTransitionEndProperty=function(t){var e,t=this.layout.options[t];if(t.opacity)return"opacity";for(e in t)return e},t.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},t.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},t.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},i}),function(o,r){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,e,i,n){return r(o,t,e,i,n)}):"object"==typeof module&&module.exports?module.exports=r(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=r(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(t,e,o,n,r){"use strict";function s(t,e){var i=n.getQueryElement(t);i?(this.element=i,u&&(this.$element=u(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e),e=++c,this.element.outlayerGUID=e,(d[e]=this)._create(),this._getOption("initLayout")&&this.layout()):l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t))}function a(t){function e(){t.apply(this,arguments)}return(e.prototype=Object.create(t.prototype)).constructor=e}function i(){}var l=t.console,u=t.jQuery,c=0,d={},h=(s.namespace="outlayer",s.Item=r,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},s.prototype),p=(n.extend(h,e.prototype),h.option=function(t){n.extend(this.options,t)},h._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var r=new i(e[o],this);n.push(r)}return n},h._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(t){return t.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),t=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=o(this.element)},h._getMeasurement=function(t,e){var i,n=this.options[t];n?("string"==typeof n?i=this.element.querySelector(n):n instanceof HTMLElement&&(i=n),this[t]=i?o(i)[e]:n):this[t]=0},h.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},h._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},h._layoutItems=function(t,i){var n;this._emitCompleteOnItems("layout",t),t&&t.length&&(n=[],t.forEach(function(t){var e=this._getItemLayoutPosition(t);e.item=t,e.isInstant=i||t.isLayoutInstant,n.push(e)},this),this._processLayoutQueue(n))},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},h.updateStagger=function(){var t=this.options.stagger;return null==t?void(this.stagger=0):(this.stagger=function(t){if("number"==typeof t)return t;var e=(t=t.match(/(^\d*\.?\d*)(\w*)/))&&t[1],t=t&&t[2];return e.length?parseFloat(e)*(p[t]||1):0}(t),this.stagger)},h._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){var t;this._getOption("resizeContainer")&&(t=this._getContainerSize())&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))},h._getContainerSize=i,h._setContainerMeasure=function(t,e){var i;void 0!==t&&((i=this.size).isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px")},h._emitCompleteOnItems=function(e,t){function i(){r.dispatchEvent(e+"Complete",null,[t])}function n(){++o==s&&i()}var o,r=this,s=t.length;t&&s?(o=0,t.forEach(function(t){t.once(e,n)})):i()},h.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n),u&&(this.$element=this.$element||u(this.element),e?((n=u.Event(e)).type=t,this.$element.trigger(n,i)):this.$element.trigger(t,i))},h.ignore=function(t){t=this.getItem(t);t&&(t.isIgnored=!0)},h.unignore=function(t){t=this.getItem(t);t&&delete t.isIgnored},h.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},h.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},h._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),n.makeArray(t)):void 0},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},h._manageStamp=i,h._getElementOffset=function(t){var e=t.getBoundingClientRect(),i=this._boundingRect,t=o(t);return{left:e.left-i.left-t.marginLeft,top:e.top-i.top-t.marginTop,right:i.right-e.right-t.marginRight,bottom:i.bottom-e.bottom-t.marginBottom}},h.handleEvent=n.handleEvent,h.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var t=o(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},h.addItems=function(t){t=this._itemize(t);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(t){t=this.addItems(t);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(t){var e,t=this._itemize(t);t.length&&(e=this.items.slice(0),this.items=t.concat(e),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(e))},h.reveal=function(t){var i;this._emitCompleteOnItems("reveal",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.reveal()}))},h.hide=function(t){var i;this._emitCompleteOnItems("hide",t),t&&t.length&&(i=this.updateStagger(),t.forEach(function(t,e){t.stagger(e*i),t.hide()}))},h.revealItemElements=function(t){t=this.getItems(t);this.reveal(t)},h.hideItemElements=function(t){t=this.getItems(t);this.hide(t)},h.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},h.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){t=this.getItem(t);t&&e.push(t)},this),e},h.remove=function(t){t=this.getItems(t);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},h.destroy=function(){var t=this.element.style,t=(t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize(),this.element.outlayerGUID);delete d[t],delete this.element.outlayerGUID,u&&u.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=(t=n.getQueryElement(t))&&t.outlayerGUID;return t&&d[t]},s.create=function(t,e){var i=a(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=a(r),n.htmlInit(i,t),u&&u.bridget&&u.bridget(t,i),i},{ms:1,s:1e3});return s.Item=r,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,a){var t=t.create("masonry"),e=(t.compatOptions.fitWidth="isFitWidth",t.prototype);return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){this.getContainerWidth(),this.columnWidth||(t=(t=this.items[0])&&t.element,this.columnWidth=t&&a(t).outerWidth||this.containerWidth);var t=this.columnWidth+=this.gutter,e=this.containerWidth+this.gutter,i=e/t,e=t-e%t,i=Math[e&&e<1?"round":"floor"](i);this.cols=Math.max(i,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,t=a(t);this.containerWidth=t&&t.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();for(var e=t.size.outerWidth%this.columnWidth,e=Math[e&&e<1?"round":"ceil"](t.size.outerWidth/this.columnWidth),e=Math.min(e,this.cols),i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](e,t),n={x:this.columnWidth*i.col,y:i.y},o=i.y+t.size.outerHeight,r=e+i.col,s=i.col;s<r;s++)this.colYs[s]=o;return n},e._getTopColPosition=function(t){var t=this._getTopColGroup(t),e=Math.min.apply(Math,t);return{col:t.indexOf(e),y:e}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;n<i;n++)e[n]=this._getColGroupY(n,t);return e},e._getColGroupY=function(t,e){if(e<2)return this.colYs[t];t=this.colYs.slice(t,t+e);return Math.max.apply(Math,t)},e._getHorizontalColPosition=function(t,e){var i=this.horizontalColIndex%this.cols,i=1<t&&i+t>this.cols?0:i,e=e.size.outerWidth&&e.size.outerHeight;return this.horizontalColIndex=e?i+t:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,t)}},e._manageStamp=function(t){var e=a(t),t=this._getElementOffset(t),i=this._getOption("originLeft")?t.left:t.right,n=i+e.outerWidth,i=Math.floor(i/this.columnWidth),i=Math.max(0,i),o=Math.floor(n/this.columnWidth);o-=n%this.columnWidth?0:1;for(var o=Math.min(this.cols-1,o),r=(this._getOption("originTop")?t.top:t.bottom)+e.outerHeight,s=i;s<=o;s++)this.colYs[s]=Math.max(r,this.colYs[s])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},t}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipeUI_Default=e()}(this,function(){"use strict";return function(n,a){function t(t){if(T)return!0;t=t||window.event,C.timeToIdle&&C.mouseUsed&&!w&&l();for(var e,i,n=(t.target||t.srcElement).getAttribute("class")||"",o=0;o<k.length;o++)(e=k[o]).onTap&&-1<n.indexOf("pswp__"+e.name)&&(e.onTap(),i=!0);i&&(t.stopPropagation&&t.stopPropagation(),T=!0,t=a.features.isOldAndroid?600:30,setTimeout(function(){T=!1},t))}function i(){var t=1===C.getNumItemsFn();t!==S&&(D(p,"ui--one-slide",t),S=t)}function s(){D(y,"share-modal--hidden",O)}function o(){if((O=!O)?(a.removeClass(y,"pswp__share-modal--fade-in"),setTimeout(function(){O&&s()},300)):(s(),setTimeout(function(){O||a.addClass(y,"pswp__share-modal--fade-in")},30)),!O){for(var t,e,i,n,o="",r=0;r<C.shareButtons.length;r++)t=C.shareButtons[r],e=C.getImageURLForShare(t),i=C.getPageURLForShare(t),n=C.getTextForShare(t),o+='<a href="'+t.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(e)).replace("{{raw_image_url}}",e).replace("{{text}}",encodeURIComponent(n))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",C.parseShareButtonOut&&(o=C.parseShareButtonOut(t,o));y.children[0].innerHTML=o,y.children[0].onclick=W}}function r(t){for(var e=0;e<C.closeElClasses.length;e++)if(a.hasClass(t,"pswp__"+C.closeElClasses[e]))return!0}function l(){clearTimeout(_),M=0,w&&L.setIdle(!1)}function u(t){(t=(t=t||window.event).relatedTarget||t.toElement)&&"HTML"!==t.nodeName||(clearTimeout(_),_=setTimeout(function(){L.setIdle(!0)},C.timeToIdleOutside))}function c(t){E!==t&&(D(x,"preloader--active",!t),E=t)}function d(t){var e,i=t.vGap;!n.likelyTouchDevice||C.mouseUsed||screen.width>C.fitControlsWidth?(e=C.barsSize,C.captionEl&&"auto"===e.bottom?(m||((m=a.createEl("pswp__caption pswp__caption--fake")).appendChild(a.createEl("pswp__caption__center")),p.insertBefore(m,f),a.addClass(p,"pswp__ui--fit")),C.addCaptionHTMLFn(t,m,!0)?(t=m.clientHeight,i.bottom=parseInt(t,10)||44):i.bottom=e.top):i.bottom="auto"===e.bottom?0:e.bottom,i.top=e.top):i.top=i.bottom=0}function R(){function t(t){if(t)for(var e=t.length,i=0;i<e;i++){o=t[i],r=o.className;for(var n=0;n<k.length;n++)s=k[n],-1<r.indexOf("pswp__"+s.name)&&(C[s.option]?(a.removeClass(o,"pswp__element--disabled"),s.onInit&&s.onInit(o)):a.addClass(o,"pswp__element--disabled"))}}t(p.children);var o,r,s,e=a.getChildByClass(p,"pswp__top-bar");e&&t(e.children)}var h,p,f,m,e,g,y,v,w,b,x,E,I,S,C,T,z,_,L=this,A=!1,P=!0,O=!0,F={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return n.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return n.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},D=function(t,e,i){a[(i?"add":"remove")+"Class"](t,"pswp__"+e)},W=function(t){var e=(t=t||window.event).target||t.srcElement;return n.shout("shareLinkClick",t,e),!(!e.href||!e.hasAttribute("download")&&(window.open(e.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),O||o(),1))},M=0,k=[{name:"caption",option:"captionEl",onInit:function(t){f=t}},{name:"share-modal",option:"shareEl",onInit:function(t){y=t},onTap:function(){o()}},{name:"button--share",option:"shareEl",onInit:function(t){g=t},onTap:function(){o()}},{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){e=t}},{name:"button--close",option:"closeEl",onTap:n.close},{name:"button--arrow--left",option:"arrowEl",onTap:n.prev},{name:"button--arrow--right",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){h.isFullscreen()?h.exit():h.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){x=t}}];L.init=function(){var e;a.extend(n.options,F,!0),C=n.options,p=a.getChildByClass(n.scrollWrap,"pswp__ui"),(b=n.listen)("onVerticalDrag",function(t){P&&t<.95?L.hideControls():!P&&.95<=t&&L.showControls()}),b("onPinchClose",function(t){P&&t<.9?(L.hideControls(),e=!0):e&&!P&&.9<t&&L.showControls()}),b("zoomGestureEnded",function(){(e=!1)&&!P&&L.showControls()}),b("beforeChange",L.update),b("doubleTap",function(t){var e=n.currItem.initialZoomLevel;n.getZoomLevel()!==e?n.zoomTo(e,t,333):n.zoomTo(C.getDoubleTapZoom(!1,n.currItem),t,333)}),b("preventDragEvent",function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&-1<t.type.indexOf("mouse")&&(0<n.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),b("bindEvents",function(){a.bind(p,"pswpTap click",t),a.bind(n.scrollWrap,"pswpTap",L.onGlobalTap),n.likelyTouchDevice||a.bind(n.scrollWrap,"mouseover",L.onMouseOver)}),b("unbindEvents",function(){O||o(),z&&clearInterval(z),a.unbind(document,"mouseout",u),a.unbind(document,"mousemove",l),a.unbind(p,"pswpTap click",t),a.unbind(n.scrollWrap,"pswpTap",L.onGlobalTap),a.unbind(n.scrollWrap,"mouseover",L.onMouseOver),h&&(a.unbind(document,h.eventK,L.updateFullscreen),h.isFullscreen()&&(C.hideAnimationDuration=0,h.exit()),h=null)}),b("destroy",function(){C.captionEl&&(m&&p.removeChild(m),a.removeClass(f,"pswp__caption--empty")),y&&(y.children[0].onclick=null),a.removeClass(p,"pswp__ui--over-close"),a.addClass(p,"pswp__ui--hidden"),L.setIdle(!1)}),C.showAnimationDuration||a.removeClass(p,"pswp__ui--hidden"),b("initialZoomIn",function(){C.showAnimationDuration&&a.removeClass(p,"pswp__ui--hidden")}),b("initialZoomOut",function(){a.addClass(p,"pswp__ui--hidden")}),b("parseVerticalMargin",d),R(),C.shareEl&&g&&y&&(O=!0),i(),C.timeToIdle&&b("mouseUsed",function(){a.bind(document,"mousemove",l),a.bind(document,"mouseout",u),z=setInterval(function(){2===++M&&L.setIdle(!0)},C.timeToIdle/2)}),C.fullscreenEl&&!a.features.isOldAndroid&&((h=h||L.getFullscreenAPI())?(a.bind(document,h.eventK,L.updateFullscreen),L.updateFullscreen(),a.addClass(n.template,"pswp--supports-fs")):a.removeClass(n.template,"pswp--supports-fs")),C.preloaderEl&&(c(!0),b("beforeChange",function(){clearTimeout(I),I=setTimeout(function(){n.currItem&&n.currItem.loading?n.allowProgressiveImg()&&(!n.currItem.img||n.currItem.img.naturalWidth)||c(!1):c(!0)},C.loadingIndicatorDelay)}),b("imageLoadComplete",function(t,e){n.currItem===e&&c(!0)}))},L.setIdle=function(t){D(p,"ui--idle",w=t)},L.update=function(){A=!(!P||!n.currItem)&&(L.updateIndexIndicator(),C.captionEl&&(C.addCaptionHTMLFn(n.currItem,f),D(f,"caption--empty",!n.currItem.title)),!0),O||o(),i()},L.updateFullscreen=function(t){t&&setTimeout(function(){n.setScrollOffset(0,a.getScrollY())},50),a[(h.isFullscreen()?"add":"remove")+"Class"](n.template,"pswp--fs")},L.updateIndexIndicator=function(){C.counterEl&&(e.innerHTML=n.getCurrentIndex()+1+C.indexIndicatorSep+C.getNumItemsFn())},L.onGlobalTap=function(t){var e=(t=t||window.event).target||t.srcElement;if(!T)if(t.detail&&"mouse"===t.detail.pointerType)r(e)?n.close():a.hasClass(e,"pswp__img")&&(1===n.getZoomLevel()&&n.getZoomLevel()<=n.currItem.fitRatio?C.clickToCloseNonZoomable&&n.close():n.toggleDesktopZoom(t.detail.releasePoint));else if(C.tapToToggleControls&&(P?L.hideControls():L.showControls()),C.tapToClose&&(a.hasClass(e,"pswp__img")||r(e)))return void n.close()},L.onMouseOver=function(t){t=(t=t||window.event).target||t.srcElement;D(p,"ui--over-close",r(t))},L.hideControls=function(){a.addClass(p,"pswp__ui--hidden"),P=!1},L.showControls=function(){P=!0,A||L.update(),a.removeClass(p,"pswp__ui--hidden")},L.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},L.getFullscreenAPI=function(){var t,e=document.documentElement,i="fullscreenchange";return e.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:i}:e.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+i}:e.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+i}:e.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return v=C.closeOnScroll,C.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?n.template[this.enterK]():void n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return C.closeOnScroll=v,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}}}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.PhotoSwipe=e()}(this,function(){"use strict";return function(h,F,e,W){var p={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[o](e[r],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){e=document.createElement(e||"div");return t&&(e.className=t),e},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){p.bind(t,e,i,!0)},removeClass:function(t,e){e=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(e," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){p.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(p.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(p.features)return p.features;var t,e,i=p.createEl().style,n="",o={};o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,o.pointerEvent||(t=navigator.userAgent,/iP(hone|od)/.test(navigator.platform)&&(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<e.length&&1<=(e=parseInt(e[1],10))&&e<8&&(o.isOldIOSPhone=!0),e=(e=t.match(/Android\s([0-9\.]*)/))?e[1]:0,1<=(e=parseFloat(e))&&(e<4.4&&(o.isOldAndroid=!0),o.androidVersion=e),o.isMobileOpera=/opera mini|opera mobi/i.test(t));for(var r,s,a,l=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c=0;c<4;c++){for(var n=u[c],d=0;d<3;d++)r=l[d],s=n+(n?r.charAt(0).toUpperCase()+r.slice(1):r),!o[r]&&s in i&&(o[r]=s);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}return o.raf||(a=0,o.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-a)),n=window.setTimeout(function(){t(e+i)},i);return a=e+i,n},o.caf=function(t){clearTimeout(t)}),o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,p.features=o}},f=(p.detectFeatures(),p.features.oldIE&&(p.bind=function(t,e,i,n){e=e.split(" ");for(var o,r=(n?"detach":"attach")+"Event",s=function(){i.handleEvent.call(i)},a=0;a<e.length;a++)if(o=e[a])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=s;t[r]("on"+o,i["oldIE"+o])}else t[r]("on"+o,i)}),this),H=25,m={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};p.extend(m,W);function t(){return{x:0,y:0}}function N(t,e){p.extend(f,e.publicMethods),Zt.push(t)}function q(t){var e=D();return e-1<t?t-e:t<0?e+t:t}function r(t,e){return $t[t]||($t[t]=[]),$t[t].push(e)}function j(t,e,i,n){n===f.currItem.initialZoomLevel?i[t]=f.currItem.initialPosition[t]:(i[t]=Jt(t,n),i[t]>e.min[t]?i[t]=e.min[t]:i[t]<e.max[t]&&(i[t]=e.max[t]))}function B(t){var e="";m.escKey&&27===t.keyCode?e="close":m.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),!e||t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,f[e]())}function U(t){t&&(Lt||_t||v||Ct)&&(t.preventDefault(),t.stopPropagation())}function Z(){f.setScrollOffset(0,p.getScrollY())}function Y(t){var e;"mousedown"===t.type&&0<t.button||(Je?t.preventDefault():Tt&&"mousedown"===t.type||(Pe(t,!0)&&t.preventDefault(),I("pointerDown"),pt&&((e=p.arraySearch(me,t.pointerId,"id"))<0&&(e=me.length),me[e]={x:t.pageX,y:t.pageY,id:t.pointerId}),t=(e=He(t)).length,u=null,ue(),l&&1!==t||(l=kt=!0,p.bind(window,tt,f),St=Wt=Rt=Ct=Pt=Lt=zt=_t=!1,Mt=null,I("firstTouchStart",e),z(qt,w),Nt.x=Nt.y=0,z(P,e[0]),z(fe,P),ge.x=x.x*jt,ye=[{x:P.x,y:P.y}],Et=xt=S(),ne(y,!0),Te(),ze()),!c&&1<t&&!v&&!Pt&&(it=y,c=zt=!(_t=!1),Nt.y=Nt.x=0,z(qt,w),z(L,e[0]),z(pe,e[1]),De(L,pe,Ie),Ee.x=Math.abs(Ie.x)-w.x,Ee.y=Math.abs(Ie.y)-w.y,Ot=Ce(L,pe))))}function G(t){var e;t.preventDefault(),pt&&-1<(e=p.arraySearch(me,t.pointerId,"id"))&&((e=me[e]).x=t.pageX,e.y=t.pageY),l&&(e=He(t),Mt||Lt||c?u=e:O.x!==x.x*jt?Mt="h":(t=Math.abs(e[0].x-P.x)-Math.abs(e[0].y-P.y),Math.abs(t)>=he&&(Mt=0<t?"h":"v",u=e)))}function $(t){if(a.isOldAndroid){if(Tt&&"mouseup"===t.type)return;-1<t.type.indexOf("touch")&&(clearTimeout(Tt),Tt=setTimeout(function(){Tt=0},600))}var e;I("pointerUp"),Pe(t,!1)&&t.preventDefault(),pt&&-1<(r=p.arraySearch(me,t.pointerId,"id"))&&(e=me.splice(r,1)[0],navigator.msPointerEnabled?(e.type={4:"mouse",2:"touch",3:"pen"}[t.pointerType],e.type||(e.type=t.pointerType||"mouse")):e.type=t.pointerType||"mouse");var i=(r=He(t)).length;if(2===(i="mouseup"===t.type?0:i))return!(u=null);1===i&&z(fe,r[0]),0!==i||Mt||v||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),I("touchRelease",t,e));var n,o,r=-1;if(0===i&&(l=!1,p.unbind(window,tt,f),Te(),c?r=0:-1!==xe&&(r=S()-xe)),xe=1===i?S():-1,t=-1!==r&&r<150?"zoom":"swipe",c&&i<2&&(c=!1,1===i&&(t="zoomPointerUp"),I("zoomGestureEnded")),u=null,Lt||_t||v||Ct)if(ue(),(It=It||je()).calculateSwipeSpeed("x"),Ct)ke()<m.verticalDragRange?f.close():(n=w.y,o=Ft,ce("verticalDrag",0,1,300,p.easing.cubic.out,function(t){w.y=(f.currItem.initialPosition.y-n)*t+n,C((1-o)*t+o),T()}),I("onVerticalDrag",1));else{if((Pt||v)&&0===i){if(Ue(t,It))return;t="zoomPointerUp"}if(!v)return"swipe"!==t?void Ye():void(!Pt&&y>f.currItem.fitRatio&&Be(It))}}var K,Q,V,g,X,J,tt,et,i,y,it,nt,ot,rt,st,s,at,lt,ut,ct,dt,ht,pt,n,ft,mt,gt,yt,vt,wt,a,bt,xt,Et,It,St,Ct,Tt,l,zt,_t,Lt,At,Pt,u,c,Ot,d,Dt,v,Mt,kt,Rt,Ft,Wt,Ht,Nt=t(),qt=t(),w=t(),b={},jt=0,Bt={},x=t(),E=0,Ut=!0,Zt=[],Yt={},Gt=!1,$t={},I=function(t){var e=$t[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(f,i)}},S=function(){return(new Date).getTime()},C=function(t){Ft=t,f.bg.style.opacity=t*m.bgOpacity},Kt=function(t,e,i,n,o){(!Gt||o&&o!==f.currItem)&&(n/=(o||f.currItem).fitRatio),t[ht]=nt+e+"px, "+i+"px"+ot+" scale("+n+")"},T=function(t){Dt&&(t&&(y>f.currItem.fitRatio?Gt||(li(f.currItem,!1,!0),Gt=!0):Gt&&(li(f.currItem),Gt=!1)),Kt(Dt,w.x,w.y,y))},Qt=function(t){t.container&&Kt(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Vt=function(t,e){e[ht]=nt+t+"px, 0px"+ot},Xt=function(t,e){var i;!m.loop&&e&&(e=g+(x.x*jt-t)/x.x,i=Math.round(t-O.x),(e<0&&0<i||e>=D()-1&&i<0)&&(t=O.x+i*m.mainScrollEndFriction)),O.x=t,Vt(t,X)},Jt=function(t,e){var i=Ee[t]-Bt[t];return qt[t]+Nt[t]+i-e/it*i},z=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},te=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},ee=null,ie=function(){ee&&(p.unbind(document,"mousemove",ie),p.addClass(h,"pswp--has_mouse"),m.mouseUsed=!0,I("mouseUsed")),ee=setTimeout(function(){ee=null},100)},ne=function(t,e){t=si(f.currItem,b,t);return e&&(d=t),t},oe=function(t){return(t=t||f.currItem).initialZoomLevel},re=function(t){return 0<(t=t||f.currItem).w?m.maxSpreadZoom:1},_={},se=0,ae=function(t){_[t]&&(_[t].raf&&mt(_[t].raf),se--,delete _[t])},le=function(t){_[t]&&ae(t),_[t]||(se++,_[t]={})},ue=function(){for(var t in _)_.hasOwnProperty(t)&&ae(t)},ce=function(t,e,i,n,o,r,s){function a(){if(_[t]){if(l=S()-u,n<=l)return ae(t),r(i),void(s&&s());r((i-e)*o(l/n)+e),_[t].raf=ft(a)}}var l,u=S();le(t);a()},W={shout:I,listen:r,viewportSize:b,options:m,isMainScrollAnimating:function(){return v},getZoomLevel:function(){return y},getCurrentIndex:function(){return g},isDragging:function(){return l},isZooming:function(){return c},setScrollOffset:function(t,e){Bt.x=t,wt=Bt.y=e,I("updateScrollOffset",Bt)},applyZoomPan:function(t,e,i,n){w.x=e,w.y=i,y=t,T(n)},init:function(){if(!K&&!Q){f.framework=p,f.template=h,f.bg=p.getChildByClass(h,"pswp__bg"),gt=h.className,K=!0,a=p.detectFeatures(),ft=a.raf,mt=a.caf,ht=a.transform,vt=a.oldIE,f.scrollWrap=p.getChildByClass(h,"pswp__scroll-wrap"),f.container=p.getChildByClass(f.scrollWrap,"pswp__container"),X=f.container.style,f.itemHolders=s=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],s[0].el.style.display=s[2].el.style.display="none",function(){var t;if(ht)return t=a.perspective&&!n,nt="translate"+(t?"3d(":"("),ot=a.perspective?", 0px)":")";ht="left",p.addClass(h,"pswp--ie"),Vt=function(t,e){e.left=t+"px"},Qt=function(t){var e=1<t.fitRatio?1:t.fitRatio,i=t.container.style,n=e*t.w,e=e*t.h;i.width=n+"px",i.height=e+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},T=function(){var t,e,i,n;Dt&&(t=Dt,i=(n=1<(e=f.currItem).fitRatio?1:e.fitRatio)*e.w,n=n*e.h,t.width=i+"px",t.height=n+"px",t.left=w.x+"px",t.top=w.y+"px")}}(),i={resize:f.updateSize,orientationchange:function(){clearTimeout(bt),bt=setTimeout(function(){b.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Z,keydown:B,click:U};var t,e=a.isOldIOSPhone||a.isOldAndroid||a.isMobileOpera;for(a.animationName&&a.transform&&!e||(m.showAnimationDuration=m.hideAnimationDuration=0),t=0;t<Zt.length;t++)f["init"+Zt[t]]();F&&(f.ui=new F(f,p)).init(),I("firstUpdate"),g=g||m.index||0,(isNaN(g)||g<0||g>=D())&&(g=0),f.currItem=ti(g),(a.isOldIOSPhone||a.isOldAndroid)&&(Ut=!1),h.setAttribute("aria-hidden","false"),m.modal&&(Ut?h.style.position="fixed":(h.style.position="absolute",h.style.top=p.getScrollY()+"px")),void 0===wt&&(I("initialLayout"),wt=yt=p.getScrollY());e="pswp--open ";for(m.mainClass&&(e+=m.mainClass+" "),m.showHideOpacity&&(e+="pswp--animate_opacity "),e=(e=(e+=n?"pswp--touch":"pswp--notouch")+(a.animationName?" pswp--css_animation":""))+(a.svg?" pswp--svg":""),p.addClass(h,e),f.updateSize(),J=-1,E=null,t=0;t<3;t++)Vt((t+J)*x.x,s[t].el.style);vt||p.bind(f.scrollWrap,et,f),r("initialZoomInEnd",function(){f.setContent(s[0],g-1),f.setContent(s[2],g+1),s[0].el.style.display=s[2].el.style.display="block",m.focus&&h.focus(),p.bind(document,"keydown",f),a.transform&&p.bind(f.scrollWrap,"click",f),m.mouseUsed||p.bind(document,"mousemove",ie),p.bind(window,"resize scroll orientationchange",f),I("bindEvents")}),f.setContent(s[1],g),f.updateCurrItem(),I("afterInit"),Ut||(rt=setInterval(function(){se||l||c||y!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),p.addClass(h,"pswp--visible")}},close:function(){K&&(Q=!(K=!1),I("close"),p.unbind(window,"resize scroll orientationchange",f),p.unbind(window,"scroll",i.scroll),p.unbind(document,"keydown",f),p.unbind(document,"mousemove",ie),a.transform&&p.unbind(f.scrollWrap,"click",f),l&&p.unbind(window,tt,f),clearTimeout(bt),I("unbindEvents"),ei(f.currItem,null,!0,f.destroy))},destroy:function(){I("destroy"),Qe&&clearTimeout(Qe),h.setAttribute("aria-hidden","true"),h.className=gt,rt&&clearInterval(rt),p.unbind(f.scrollWrap,et,f),p.unbind(window,"scroll",f),Te(),ue(),$t=null},panTo:function(t,e,i){i||(t>d.min.x?t=d.min.x:t<d.max.x&&(t=d.max.x),e>d.min.y?e=d.min.y:e<d.max.y&&(e=d.max.y)),w.x=t,w.y=e,T()},handleEvent:function(t){t=t||window.event,i[t.type]&&i[t.type](t)},goTo:function(t){var e=(t=q(t))-g;E=e,g=t,f.currItem=ti(g),jt-=e,Xt(x.x*jt),ue(),v=!1,f.updateCurrItem()},next:function(){f.goTo(g+1)},prev:function(){f.goTo(g-1)},updateCurrZoomItem:function(t){var e;t&&I("beforeChange",0),Dt=s[1].el.children.length?(e=s[1].el.children[0],p.hasClass(e,"pswp__zoom-wrap")?e.style:null):null,d=f.currItem.bounds,it=y=f.currItem.initialZoomLevel,w.x=d.center.x,w.y=d.center.y,t&&I("afterChange")},invalidateCurrItems:function(){st=!0;for(var t=0;t<3;t++)s[t].item&&(s[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==E){var e,i=Math.abs(E);if(!(t&&i<2)){f.currItem=ti(g),Gt=!1,I("beforeChange",E),3<=i&&(J+=E+(0<E?-3:3),i=3);for(var n=0;n<i;n++)0<E?(e=s.shift(),s[2]=e,Vt((++J+2)*x.x,e.el.style),f.setContent(e,g-i+n+1+1)):(e=s.pop(),s.unshift(e),Vt(--J*x.x,e.el.style),f.setContent(e,g+i-n-1-1));!Dt||1!==Math.abs(E)||(t=ti(at)).initialZoomLevel!==y&&(si(t,b),li(t),Qt(t)),E=0,f.updateCurrZoomItem(),at=g,I("afterChange")}}},updateSize:function(t){if(!Ut&&m.modal){var e=p.getScrollY();if(wt!==e&&(h.style.top=e+"px",wt=e),!t&&Yt.x===window.innerWidth&&Yt.y===window.innerHeight)return;Yt.x=window.innerWidth,Yt.y=window.innerHeight,h.style.height=Yt.y+"px"}if(b.x=f.scrollWrap.clientWidth,b.y=f.scrollWrap.clientHeight,Z(),x.x=b.x+Math.round(b.x*m.spacing),x.y=b.y,Xt(x.x*jt),I("beforeResize"),void 0!==J){for(var i,n,o,r=0;r<3;r++)i=s[r],Vt((r+J)*x.x,i.el.style),o=g+r-1,m.loop&&2<D()&&(o=q(o)),(n=ti(o))&&(st||n.needsUpdate||!n.bounds)?(f.cleanSlide(n),f.setContent(i,o),1===r&&(f.currItem=n,f.updateCurrZoomItem(!0)),n.needsUpdate=!1):-1===i.index&&0<=o&&f.setContent(i,o),n&&n.container&&(si(n,b),li(n),Qt(n));st=!1}it=y=f.currItem.initialZoomLevel,(d=f.currItem.bounds)&&(w.x=d.center.x,w.y=d.center.y,T(!0)),I("resize")},zoomTo:function(e,t,i,n,o){t&&(it=y,Ee.x=Math.abs(t.x)-w.x,Ee.y=Math.abs(t.y)-w.y,z(qt,w));function r(t){1===t?(y=e,w.x=s.x,w.y=s.y):(y=(e-a)*t+a,w.x=(s.x-l.x)*t+l.x,w.y=(s.y-l.y)*t+l.y),o&&o(t),T(1===t)}var t=ne(e,!1),s={},a=(j("x",t,s,e),j("y",t,s,e),y),l={x:w.x,y:w.y};te(s);i?ce("customZoomTo",0,1,i,n||p.easing.sine.inOut,r):r(1)}},de=30,he=10,L={},pe={},A={},P={},fe={},me=[],ge={},ye=[],ve={},we=0,be=t(),xe=0,O=t(),Ee=t(),Ie=t(),Se=function(t,e){return t.x===e.x&&t.y===e.y},Ce=function(t,e){return ve.x=Math.abs(t.x-e.x),ve.y=Math.abs(t.y-e.y),Math.sqrt(ve.x*ve.x+ve.y*ve.y)},Te=function(){At&&(mt(At),At=null)},ze=function(){l&&(At=ft(ze),qe())},_e=function(){return!("fit"===m.scaleMode&&y===f.currItem.initialZoomLevel)},Le=function(t,e){return!(!t||t===document)&&!(t.getAttribute("class")&&-1<t.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(e(t)?t:Le(t.parentNode,e))},Ae={},Pe=function(t,e){return Ae.prevent=!Le(t.target,m.isClickableElement),I("preventDragEvent",t,e,Ae),Ae.prevent},Oe=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},De=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},Me=function(t,e,i){var n;50<t-Et&&((n=2<ye.length?ye.shift():{}).x=e,n.y=i,ye.push(n),Et=t)},ke=function(){var t=w.y-f.currItem.initialPosition.y;return 1-Math.abs(t/(b.y/2))},Re={},Fe={},We=[],He=function(t){for(;0<We.length;)We.pop();return pt?(Ht=0,me.forEach(function(t){0===Ht?We[0]=t:1===Ht&&(We[1]=t),Ht++})):-1<t.type.indexOf("touch")?t.touches&&0<t.touches.length&&(We[0]=Oe(t.touches[0],Re),1<t.touches.length&&(We[1]=Oe(t.touches[1],Fe))):(Re.x=t.pageX,Re.y=t.pageY,Re.id="",We[0]=Re),We},Ne=function(t,e){var i,n,o,r=w[t]+e[t],s=0<e[t],a=O.x+e.x,l=O.x-ge.x,u=r>d.min[t]||r<d.max[t]?m.panEndFriction:1,r=w[t]+e[t]*u;return!m.allowPanToNext&&y!==f.currItem.initialZoomLevel||(Dt?"h"!==Mt||"x"!==t||_t||(s?(r>d.min[t]&&(u=m.panEndFriction,d.min[t],i=d.min[t]-qt[t]),(i<=0||l<0)&&1<D()?(o=a,l<0&&a>ge.x&&(o=ge.x)):d.min.x!==d.max.x&&(n=r)):(r<d.max[t]&&(u=m.panEndFriction,d.max[t],i=qt[t]-d.max[t]),(i<=0||0<l)&&1<D()?(o=a,0<l&&a<ge.x&&(o=ge.x)):d.min.x!==d.max.x&&(n=r))):o=a,"x"!==t)?void(v||Pt||y>f.currItem.fitRatio&&(w[t]+=e[t]*u)):(void 0!==o&&(Xt(o,!0),Pt=o!==ge.x),d.min.x!==d.max.x&&(void 0!==n?w.x=n:Pt||(w.x+=e.x*u)),void 0!==o)},qe=function(){if(u){var t,e,i,n,o,r=u.length;if(0!==r)if(z(L,u[0]),A.x=L.x-P.x,A.y=L.y-P.y,c&&1<r)P.x=L.x,P.y=L.y,!A.x&&!A.y&&Se(u[1],pe)||(z(pe,u[1]),_t||(_t=!0,I("zoomGestureStarted")),r=Ce(L,pe),(t=Ze(r))>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(Wt=!0),e=1,i=oe(),n=re(),t<i?m.pinchToClose&&!Wt&&it<=f.currItem.initialZoomLevel?(C(o=1-(i-t)/(i/1.2)),I("onPinchClose",o),Rt=!0):t=i-(e=1<(e=(i-t)/i)?1:e)*(i/3):n<t&&(t=n+(e=1<(e=(t-n)/(6*i))?1:e)*i),e<0&&(e=0),De(L,pe,be),Nt.x+=be.x-Ie.x,Nt.y+=be.y-Ie.y,z(Ie,be),w.x=Jt("x",t),w.y=Jt("y",t),St=y<t,y=t,T());else if(Mt&&(kt&&(kt=!1,Math.abs(A.x)>=he&&(A.x-=u[0].x-fe.x),Math.abs(A.y)>=he&&(A.y-=u[0].y-fe.y)),P.x=L.x,P.y=L.y,0!==A.x||0!==A.y)){if("v"===Mt&&m.closeOnVerticalDrag&&!_e())return Nt.y+=A.y,w.y+=A.y,o=ke(),Ct=!0,I("onVerticalDrag",o),C(o),void T();Me(S(),L.x,L.y),Lt=!0,d=f.currItem.bounds,Ne("x",A)||(Ne("y",A),te(w),T())}}},je=function(){var e,i,n={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(t){i=1<ye.length?(e=S()-Et+50,ye[ye.length-2][t]):(e=S()-xt,fe[t]),n.lastFlickOffset[t]=P[t]-i,n.lastFlickDist[t]=Math.abs(n.lastFlickOffset[t]),20<n.lastFlickDist[t]?n.lastFlickSpeed[t]=n.lastFlickOffset[t]/e:n.lastFlickSpeed[t]=0,Math.abs(n.lastFlickSpeed[t])<.1&&(n.lastFlickSpeed[t]=0),n.slowDownRatio[t]=.95,n.slowDownRatioReverse[t]=1-n.slowDownRatio[t],n.speedDecelerationRatio[t]=1},calculateOverBoundsAnimOffset:function(e,t){n.backAnimStarted[e]||(w[e]>d.min[e]?n.backAnimDestination[e]=d.min[e]:w[e]<d.max[e]&&(n.backAnimDestination[e]=d.max[e]),void 0!==n.backAnimDestination[e]&&(n.slowDownRatio[e]=.7,n.slowDownRatioReverse[e]=1-n.slowDownRatio[e],n.speedDecelerationRatioAbs[e]<.05&&(n.lastFlickSpeed[e]=0,n.backAnimStarted[e]=!0,ce("bounceZoomPan"+e,w[e],n.backAnimDestination[e],t||300,p.easing.sine.out,function(t){w[e]=t,T()}))))},calculateAnimOffset:function(t){n.backAnimStarted[t]||(n.speedDecelerationRatio[t]=n.speedDecelerationRatio[t]*(n.slowDownRatio[t]+n.slowDownRatioReverse[t]-n.slowDownRatioReverse[t]*n.timeDiff/10),n.speedDecelerationRatioAbs[t]=Math.abs(n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]),n.distanceOffset[t]=n.lastFlickSpeed[t]*n.speedDecelerationRatio[t]*n.timeDiff,w[t]+=n.distanceOffset[t])},panAnimLoop:function(){if(_.zoomPan&&(_.zoomPan.raf=ft(n.panAnimLoop),n.now=S(),n.timeDiff=n.now-n.lastNow,n.lastNow=n.now,n.calculateAnimOffset("x"),n.calculateAnimOffset("y"),T(),n.calculateOverBoundsAnimOffset("x"),n.calculateOverBoundsAnimOffset("y"),n.speedDecelerationRatioAbs.x<.05&&n.speedDecelerationRatioAbs.y<.05))return w.x=Math.round(w.x),w.y=Math.round(w.y),T(),void ae("zoomPan")}};return n},Be=function(t){return t.calculateSwipeSpeed("y"),d=f.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05?(t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0):(le("zoomPan"),t.lastNow=S(),void t.panAnimLoop())},Ue=function(t,e){var i,n,o;v||(we=g),"swipe"===t&&(t=P.x-fe.x,r=e.lastFlickDist.x<10,de<t&&(r||20<e.lastFlickOffset.x)?n=-1:t<-de&&(r||e.lastFlickOffset.x<-20)&&(n=1)),n&&((g+=n)<0?(g=m.loop?D()-1:0,o=!0):g>=D()&&(g=m.loop?0:D()-1,o=!0),o&&!m.loop||(E+=n,jt-=n,i=!0));var t=x.x*jt,r=Math.abs(t-O.x),s=i||t>O.x==0<e.lastFlickSpeed.x?(s=0<Math.abs(e.lastFlickSpeed.x)?r/Math.abs(e.lastFlickSpeed.x):333,s=Math.min(s,400),Math.max(s,250)):333;return we===g&&(i=!1),v=!0,I("mainScrollAnimStart"),ce("mainScroll",O.x,t,s,p.easing.cubic.out,Xt,function(){ue(),v=!1,we=-1,!i&&we===g||f.updateCurrItem(),I("mainScrollAnimComplete")}),i&&f.updateCurrItem(!0),i},Ze=function(t){return 1/Ot*t*it},Ye=function(){var t=y,e=oe(),i=re();y<e?t=e:i<y&&(t=i);var n,o=Ft;return Rt&&!St&&!Wt&&y<e?f.close():(Rt&&(n=function(t){C((1-o)*t+o)}),f.zoomTo(t,0,200,p.easing.cubic.out,n)),!0};N("Gestures",{publicMethods:{initGestures:function(){function t(t,e,i,n,o){lt=t+e,ut=t+i,ct=t+n,dt=o?t+o:""}(pt=a.pointerEvent)&&a.touch&&(a.touch=!1),pt?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):a.touch?(t("touch","start","move","end","cancel"),n=!0):t("mouse","down","move","up"),tt=ut+" "+ct+" "+dt,et=lt,pt&&!n&&(n=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=n,i[lt]=Y,i[ut]=G,i[ct]=$,dt&&(i[dt]=i[ct]),a.touch&&(et+=" mousedown",tt+=" mousemove mouseup",i.mousedown=i[lt],i.mousemove=i[ut],i.mouseup=i[ct]),n||(m.allowPanToNext=!1)}}});function Ge(t){function e(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,i.onload=i.onerror=null,i=null}t.loading=!0,t.loaded=!1;var i=t.img=p.createEl("pswp__img","img");i.onload=e,i.onerror=function(){t.loadError=!0,e()},i.src=t.src}function $e(t,e){return t.src&&t.loadError&&t.container&&(e&&(t.container.innerHTML=""),t.container.innerHTML=m.errorMsg.replace("%url%",t.src),1)}function Ke(){if(ii.length){for(var t,e=0;e<ii.length;e++)(t=ii[e]).holder.index===t.index&&ai(t.index,t.item,t.baseDiv,t.img,!1,t.clearPlaceholder);ii=[]}}var Qe,Ve,Xe,Je,ti,D,ei=function(r,t,s,e){function a(){ae("initialZoom"),s?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(C(1),t&&(t.style.display="block"),p.addClass(h,"pswp--animated-in"),I("initialZoom"+(s?"OutEnd":"InEnd"))),e&&e(),Je=!1}Qe&&clearTimeout(Qe),Xe=Je=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=m.getThumbBoundsFn&&m.getThumbBoundsFn(g);var l,u=s?m.hideAnimationDuration:m.showAnimationDuration;if(!u||!l||void 0===l.x)return I("initialZoom"+(s?"Out":"In")),y=r.initialZoomLevel,z(w,r.initialPosition),T(),h.style.opacity=s?0:1,C(1),void(u?setTimeout(function(){a()},u):a());var c,d;c=V,d=!f.currItem.src||f.currItem.loadError||m.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),s||(y=l.w/r.w,w.x=l.x,w.y=l.y-yt,f[d?"template":"bg"].style.opacity=.001,T()),le("initialZoom"),s&&!c&&p.removeClass(h,"pswp--animated-in"),d&&(s?p[(c?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){p.addClass(h,"pswp--animate_opacity")},30)),Qe=setTimeout(function(){var e,i,n,o,t;I("initialZoom"+(s?"Out":"In")),s?(e=l.w/r.w,i={x:w.x,y:w.y},n=y,o=Ft,t=function(t){1===t?(y=e,w.x=l.x,w.y=l.y-wt):(y=(e-n)*t+n,w.x=(l.x-i.x)*t+i.x,w.y=(l.y-wt-i.y)*t+i.y),T(),d?h.style.opacity=1-t:C(o-t*o)},c?ce("initialZoom",0,1,u,p.easing.cubic.out,t,a):(t(1),Qe=setTimeout(a,u+20))):(y=r.initialZoomLevel,z(w,r.initialPosition),T(),C(1),d?h.style.opacity=1:C(1),Qe=setTimeout(a,u+20))},s?25:90)},M={},ii=[],ni={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ve.length}},oi=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ri=function(t,e,i){var n=t.bounds;n.center.x=Math.round((M.x-e)/2),n.center.y=Math.round((M.y-i)/2)+t.vGap.top,n.max.x=e>M.x?Math.round(M.x-e):n.center.x,n.max.y=i>M.y?Math.round(M.y-i)+t.vGap.top:n.center.y,n.min.x=e>M.x?0:n.center.x,n.min.y=i>M.y?t.vGap.top:n.center.y},si=function(t,e,i){var n,o;return t.src&&!t.loadError?((n=!i)&&(t.vGap||(t.vGap={top:0,bottom:0}),I("parseVerticalMargin",t)),M.x=e.x,M.y=e.y-t.vGap.top-t.vGap.bottom,n&&(e=M.x/t.w,o=M.y/t.h,t.fitRatio=e<o?e:o,"orig"===(e=m.scaleMode)?i=1:"fit"===e&&(i=t.fitRatio),t.initialZoomLevel=i=1<i?1:i,t.bounds||(t.bounds=oi())),i?(ri(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds):void 0):(t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds=oi(),t.initialPosition=t.bounds.center,t.bounds)},ai=function(t,e,i,n,o,r){e.loadError||n&&(e.imageAppended=!0,li(e,n,e===f.currItem&&Gt),i.appendChild(n),r&&setTimeout(function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)},500))},li=function(t,e,i){var n;t.src&&(e=e||t.container.lastChild,n=i?t.w:Math.round(t.w*t.fitRatio),i=i?t.h:Math.round(t.h*t.fitRatio),t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=i+"px"),e.style.width=n+"px",e.style.height=i+"px")};N("Controller",{publicMethods:{lazyLoadItem:function(t){t=q(t);var e=ti(t);e&&(!e.loaded&&!e.loading||st)&&(I("gettingData",t,e),e.src&&Ge(e))},initController:function(){p.extend(m,ni,!0),f.items=Ve=e,ti=f.getItemAt,D=m.getNumItemsFn,m.loop,D()<3&&(m.loop=!1),r("beforeChange",function(t){for(var e=m.preload,i=null===t||0<=t,n=Math.min(e[0],D()),o=Math.min(e[1],D()),r=1;r<=(i?o:n);r++)f.lazyLoadItem(g+r);for(r=1;r<=(i?n:o);r++)f.lazyLoadItem(g-r)}),r("initialLayout",function(){f.currItem.initialLayout=m.getThumbBoundsFn&&m.getThumbBoundsFn(g)}),r("mainScrollAnimComplete",Ke),r("initialZoomInEnd",Ke),r("destroy",function(){for(var t,e=0;e<Ve.length;e++)(t=Ve[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);ii=null})},getItemAt:function(t){return 0<=t&&void 0!==Ve[t]&&Ve[t]},allowProgressiveImg:function(){return m.forceProgressiveLoading||!n||m.mouseUsed||1200<screen.width},setContent:function(e,i){m.loop&&(i=q(i));var t=f.getItemAt(e.index);t&&(t.container=null);var n,o,r,t=f.getItemAt(i);t?(I("gettingData",i,t),e.index=i,o=(e.item=t).container=p.createEl("pswp__zoom-wrap"),!t.src&&t.html&&(t.html.tagName?o.appendChild(t.html):o.innerHTML=t.html),$e(t),si(t,b),!t.src||t.loadError||t.loaded?t.src&&!t.loadError&&((n=p.createEl("pswp__img","img")).style.opacity=1,n.src=t.src,li(t,n),ai(i,t,o,n,!0)):(t.loadComplete=function(t){if(K){if(e&&e.index===i){if($e(t,!0))return t.loadComplete=t.img=null,si(t,b),Qt(t),void(e.index===g&&f.updateCurrZoomItem());t.imageAppended?!Je&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null):a.transform&&(v||Je)?ii.push({item:t,baseDiv:o,img:t.img,index:i,holder:e,clearPlaceholder:!0}):ai(i,t,o,t.img,v||Je,!0)}t.loadComplete=null,t.img=null,I("imageLoadComplete",i,t)}},p.features.transform&&(r="pswp__img pswp__img--placeholder",r+=t.msrc?"":" pswp__img--placeholder--blank",r=p.createEl(r,t.msrc?"img":""),t.msrc&&(r.src=t.msrc),li(t,r),o.appendChild(r),t.placeholder=r),t.loading||Ge(t),f.allowProgressiveImg()&&(!Xe&&a.transform?ii.push({item:t,baseDiv:o,img:t.img,index:i,holder:e}):ai(i,t,o,t.img,!0,!0))),Xe||i!==g?Qt(t):(Dt=o.style,ei(t,n||t.img)),e.el.innerHTML="",e.el.appendChild(o)):e.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});function ui(t,e,i){var n=document.createEvent("CustomEvent"),e={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,e),t.target.dispatchEvent(n)}var ci,k,di={};N("Tap",{publicMethods:{initTap:function(){r("firstTouchStart",f.onTapStart),r("touchRelease",f.onTapRelease),r("destroy",function(){di={},ci=null})},onTapStart:function(t){1<t.length&&(clearTimeout(ci),ci=null)},onTapRelease:function(t,e){var i,n,o;!e||Lt||zt||se||(i=e,ci&&(clearTimeout(ci),ci=null,n=i,o=di,Math.abs(n.x-o.x)<H&&Math.abs(n.y-o.y)<H)?I("doubleTap",i):"mouse"===e.type?ui(t,e,"mouse"):"BUTTON"===t.target.tagName.toUpperCase()||p.hasClass(t.target,"pswp__single-tap")?ui(t,e):(z(di,i),ci=setTimeout(function(){ui(t,e),ci=null},300)))}}}),N("DesktopZoom",{publicMethods:{initDesktopZoom:function(){vt||(n?r("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(t){k={};var e="wheel mousewheel DOMMouseScroll";r("bindEvents",function(){p.bind(h,e,f.handleMouseWheel)}),r("unbindEvents",function(){k&&p.unbind(h,e,f.handleMouseWheel)}),f.mouseZoomedIn=!1;function i(){f.mouseZoomedIn&&(p.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),y<1?p.addClass(h,"pswp--zoom-allowed"):p.removeClass(h,"pswp--zoom-allowed"),o()}var n,o=function(){n&&(p.removeClass(h,"pswp--dragging"),n=!1)};r("resize",i),r("afterChange",i),r("pointerDown",function(){f.mouseZoomedIn&&(n=!0,p.addClass(h,"pswp--dragging"))}),r("pointerUp",o),t||i()},handleMouseWheel:function(t){if(y<=f.currItem.fitRatio)return m.modal&&(!m.closeOnScroll||se||l?t.preventDefault():ht&&2<Math.abs(t.deltaY)&&(V=!0,f.close())),!0;if(t.stopPropagation(),k.x=0,"deltaX"in t)1===t.deltaMode?(k.x=18*t.deltaX,k.y=18*t.deltaY):(k.x=t.deltaX,k.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(k.x=-.16*t.wheelDeltaX),t.wheelDeltaY?k.y=-.16*t.wheelDeltaY:k.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;k.y=t.detail}ne(y,!0);var e=w.x-k.x,i=w.y-k.y;(m.modal||e<=d.min.x&&e>=d.max.x&&i<=d.min.y&&i>=d.max.y)&&t.preventDefault(),f.panTo(e,i)},toggleDesktopZoom:function(t){t=t||{x:b.x/2+Bt.x,y:b.y/2+Bt.y};var e=m.getDoubleTapZoom(!0,f.currItem),i=y===e;f.mouseZoomedIn=!i,f.zoomTo(i?f.currItem.initialZoomLevel:e,t,333),p[(i?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});function hi(){fi&&clearTimeout(fi),gi&&clearTimeout(gi)}function pi(){var t=Ci(),e={};if(t.length<5)return e;var i,n=t.split("&");for(r=0;r<n.length;r++)!n[r]||(i=n[r].split("=")).length<2||(e[i[0]]=i[1]);if(m.galleryPIDs){for(var o=e.pid,r=e.pid=0;r<Ve.length;r++)if(Ve[r].pid===o){e.pid=r;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e}var fi,mi,gi,yi,vi,wi,o,bi,xi,Ei,R,Ii,Si={history:!0,galleryUID:1},Ci=function(){return R.hash.substring(1)},Ti=function(){var t,e;gi&&clearTimeout(gi),se||l?gi=setTimeout(Ti,500):(yi?clearTimeout(mi):yi=!0,e=g+1,(t=ti(g)).hasOwnProperty("pid")&&(e=t.pid),t=o+"&gid="+m.galleryUID+"&pid="+e,bi||-1===R.hash.indexOf(t)&&(Ei=!0),e=R.href.split("#")[0]+"#"+t,Ii?"#"+t!==window.location.hash&&history[bi?"replaceState":"pushState"]("",document.title,e):bi?R.replace(e):R.hash=t,bi=!0,mi=setTimeout(function(){yi=!1},60))};N("History",{publicMethods:{initHistory:function(){var t,e;p.extend(m,Si,!0),m.history&&(R=window.location,bi=xi=Ei=!1,o=Ci(),Ii="pushState"in history,-1<o.indexOf("gid=")&&(o=(o=o.split("&gid=")[0]).split("?gid=")[0]),r("afterChange",f.updateURL),r("unbindEvents",function(){p.unbind(window,"hashchange",f.onHashChange)}),t=function(){wi=!0,xi||(Ei?history.back():o?R.hash=o:Ii?history.pushState("",document.title,R.pathname+R.search):R.hash=""),hi()},r("unbindEvents",function(){V&&t()}),r("destroy",function(){wi||t()}),r("firstUpdate",function(){g=pi().pid}),-1<(e=o.indexOf("pid="))&&("&"===(o=o.substring(0,e)).slice(-1)&&(o=o.slice(0,-1))),setTimeout(function(){K&&p.bind(window,"hashchange",f.onHashChange)},40))},onHashChange:function(){return Ci()===o?(xi=!0,void f.close()):void(yi||(vi=!0,f.goTo(pi().pid),vi=!1))},updateURL:function(){hi(),vi||(bi?fi=setTimeout(Ti,800):Ti())}}}),p.extend(f,W)}}),$(function(){"use strict";video(),gallery(),mobileMenu(),feed()});
//# sourceMappingURL=main.min.js.map